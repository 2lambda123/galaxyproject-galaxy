define(["libs/toastr","admin/repos-row-view","admin/repos-model"],function(a,b,c){var d=Backbone.View.extend({el:"#center",rowViews:{},defaults:{filter:"with_tools"},initialize:function(a){this.options=_.defaults(this.options||{},a,this.defaults),this.collection=new c.Repos,this.listenTo(this.collection,"add",this.renderOne),this.render(),this.fetchRepos(),this.repaint()},render:function(a){this.options=_.extend(this.options,a);var b=this.templateRepoList();this.$el.html(b()),$("#center").css("overflow","auto")},fetchRepos:function(){this.collection.fetch({success:function(){},error:function(){}})},repaint:function(a){this.options=_.extend(this.options,a),this.removeAllRows(),this.adjustMenu(),this.renderAll()},adjustMenu:function(a){this.options=_.extend(this.options,a),this.$el.find("li").removeClass("active"),$(".tab_"+this.options.filter).addClass("active")},updateRepoCounts:function(a){this.options=_.extend(this.options,a)},renderAll:function(a){this.options=_.extend(this.options,a);var b=this;_.each(this.collection.models.reverse(),function(a){b.options.filter===a.get("type")&&b.renderOne(a)})},renderOne:function(a){var c=new b.AdminReposRowView({repo:a});this.rowViews[a.get("id")]=c,this.$el.find("#repos_list_body").append(c.el)},removeOne:function(){},removeAllRows:function(){$(".repo-row").remove()},templateRepoList:function(){return _.template(['<div class="library_style_container">','<div id="toolbar_form">','<div id="repositories_toolbar">','<form class="form-inline" role="form">',"<span><strong>REPOSITORIES</strong></span>","</form>",'<ul class="nav nav-tabs">','<li role="presentation" class="tab_with_tools"><a href="#repos">With Tools</a></li>','<li role="presentation" class="tab_tool_dependencies"><a href="#packages">Packages</a></li>','<li role="presentation" class="tab_suites"><a href="#packages">Suites</a></li>','<li role="presentation" class="tab_with_dm"><a href="#packages">Data Managers</a></li>','<li role="presentation" class="tab_with_datatypes"><a href="#packages">Datatypes</a></li>',"</ul>","</div>","</div>",'<div id="repositories_list">','<div class="repos_container table-responsive">','<table class="grid table table-condensed">',"<thead>","<th>",'<a class="sort-repos-link" title="Click to reverse order" href="#">',"Name","</a>","</th>","<th>Owner</th>","<th>Installation</th> ","<th>Category</th>","<th>Version</th>","<th>Date Installed</th>","</thead>",'<tbody id="repos_list_body">',"</tbody>","</table>","</div>","</div>","</div>"].join(""))}});return{AdminReposListView:d}});
//# sourceMappingURL=../../maps/admin/repos-list-view.js.map
define(["libs/toastr","admin/repos-detail-view","admin/repos-list-view"],function(a,b,c){var d=Backbone.Router.extend({initialize:function(){this.routesHit=0,Backbone.history.on("route",function(){this.routesHit++},this),this.bind("route",this.trackPageview)},routes:{"":"repolist",repos:"repolist","repos/v/:view":"repolist","repos/v/:view/f/:filter":"repolist","repos/:id":"repodetail"},back:function(){this.routesHit>1?window.history.back():this.navigate("#",{trigger:!0,replace:!0})}}),e=Backbone.View.extend({app_config:{known_views:["all","tools","packages","uninstalled"]},initialize:function(){Galaxy.adminapp=this,this.admin_router=new d,this.admin_router.on("route:repolist",function(a,b){-1===Galaxy.adminapp.app_config.known_views.indexOf(a)&&(a="all"),console.log("view: "+a+" section_filter: "+b),Galaxy.adminapp.adminReposListView?(console.log("recycling reposlist view"),Galaxy.adminapp.adminReposListView.repaint({view:a,section_filter:b})):(console.log("new reposlist view"),Galaxy.adminapp.adminReposListView=new c.AdminReposListView({view:a,section_filter:b}))}),this.admin_router.on("route:repodetail",function(a){console.log("detail id:"+a),Galaxy.adminapp.adminRepoDetailView=new b.AdminReposDetailView({id:a})}),Backbone.history.start({pushState:!1})}});return{GalaxyApp:e}});
//# sourceMappingURL=../maps/galaxy.admin.js.map
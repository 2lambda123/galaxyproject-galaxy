define("mvc/webhooks",["exports","utils/utils"],function(e,t){"use strict";function n(e,t){return _.filter(e.models,function(e){return-1!==e.get("type").indexOf(t)})}Object.defineProperty(e,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(t),i=Backbone.Collection.extend({url:Galaxy.root+"api/webhooks"}),r=Backbone.View.extend({el:"#webhook-view",initialize:function(e){var t=this,o=e.toolId||"",r=e.toolVersion||"";this.$el.attr("tool_id",o),this.$el.attr("tool_version",r),(new i).fetch({success:function(o){if(o.reset(n(o,e.type)),o.length>0){var i=_.random(0,o.length-1);t.render(o.at(i))}}})},render:function(e){var t=e.toJSON();return this.$el.html('<div id="'+t.id+'"></div>'),o.default.appendScriptStyle(t),this}});e.default={WebhookView:r,load:function(e){(new i).fetch({async:void 0===e.async||e.async,success:function(t){e.type&&t.reset(n(t,e.type)),e.callback(t)}})}}});
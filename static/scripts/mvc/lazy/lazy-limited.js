define([],function(){return Backbone.View.extend({initialize:function(a){this.$container=a.$container,this.collection=a.collection,this.new_content=a.new_content,this.max=a.max||50,this.content_list={},this.$message=$("<div/>").addClass("ui-limitloader").append("...only the first "+this.max+" entries are visible."),this.$container.append(this.$message),this.listenTo(this.collection,"reset",this._reset,this),this.listenTo(this.collection,"add",this._refresh,this),this.listenTo(this.collection,"remove",this._remove,this)},_done:function(){var a=_.size(this.content_list)>this.max;return this.$message[a?"show":"hide"](),a},_reset:function(){_.each(this.content_list,function(a){a.remove()}),this.content_list={},this.$message.hide()},_remove:function(a){var b=a.id,c=this.content_list[b];c&&(c.remove(),delete this.content_list[b]),this._refresh()},_refresh:function(){if(!this._done())for(var a in this.collection.models){{var b=this.collection.models[a];this.content_list[b.id]}if(!this.content_list[b.id]){var c=this.new_content(b);if(this.content_list[b.id]=c,this._done())break}}}})});
//# sourceMappingURL=../../../maps/mvc/lazy/lazy-limited.js.map
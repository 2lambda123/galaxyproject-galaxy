{"version":3,"sources":["../../../src/mvc/history/history-view-edit-current.js"],"names":["define","HISTORY_MODEL","HISTORY_VIEW_EDIT","BASE_MVC","_l","HistoryViewPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryViewEdit","CurrentHistoryView","className","prototype","emptyMsg","noneFoundMsg","HDCAViewClass","foldoutStyle","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","on","set","loadCurrentHistory","debug","loadHistoryWithDetails","then","historyData","contentsData","trigger","switchToHistory","historyId","historyFn","jQuery","getJSON","Galaxy","root","createNewHistory","user","isAnonymous","displayMessage","$","when","loadHistory","undefined","setModel","model","render","log","checkForUpdates","_setUpCollectionListeners","listenTo","collection","newState","oldState","get","storage","removeItemView","_setUpModelListeners","arguments","_setUpBehaviors","$where","$el","_debouncedScrollCaptureHandler","debounce","is","scrollTop","$scrollContainer","off","_buildNewRender","$newRender","find","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","_renderEmptyMessage","$emptyMsg","$emptyMessage","$toolMenu","isEmpty","views","searchFor","upload","length","empty","html","join","click","ev","show","parent","_renderTags","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","_setCurrentContentById","addItemView","options","view","_collapseDrilldownPanel","_setUpItemViewListeners","v","drilldown","_expandDrilldownPanel","setCurrentContent","removeClass","addClass","viewFromModelId","push","add","$list","hide","parentName","append","pop","listenToGalaxy","galaxy","data","pathToMatch","fullpath","useToURLRegexMap","display","edit","report_error","rerun","show_params","hdaId","hdaUse","regex","use","match","connectToQuotaMeter","quotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","quotaMsgTemplate","wrapTemplate","clone"],"mappings":"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","file":"history-view-edit-current.js"}
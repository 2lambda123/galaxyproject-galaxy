{"version":3,"sources":["mvc/history/hda-li.js"],"names":["define","DATASET_LI","BASE_MVC","_l","_super","DatasetListItemView","HDAListItemView","extend","className","prototype","initialize","attributes","options","this","toString","model","templates","titleBarTemplate","wrapTemplate","warnings","hidden","_","titleBar"],"mappings":"aAAAA,QAAQ,yBAA0B,eAAgB,sBAAuB,SAASC,EAAYC,EAAUC,GAIpG,IAAIC,EAASH,EAAWI,oBAMpBC,EAAkBF,EAAOG,QAErBC,UAAWJ,EAAOK,UAAUD,UAAY,mBAD5CE,WAAA,SAAAC,EAAwCC,GACpCJ,EAAWJ,UAAOK,WAAUD,KAAYK,KAAAF,EADJC,IASpCE,SAAU,WADV,MAAA,oBADAD,KAAAE,MAAAF,KAAAE,MAAA,GAAA,cACA,OAuDR,OA/CAT,EAAAG,UAAAO,UAAA,WACA,IAAAC,EAAAf,EAAAgB,cAIY,6CACA,mCAGA,sBACA,+CAgBJC,gDACAC,SAEQ,QACA,0BAJZ,wFAVQ,wCAwBDC,4DACHC,UACAH,YAFJ,UAtCJ,UA4CA,WACAA,EAAAE,EAAAd,UAAAH,EAAAK,UAAAO,UAAAG,UA1EJC,OAAAlB,EAAAgB,cAyDoB,gCACA,+CACAf,EAAG,gCACH,SACA,WAEJ,aAIR,OAAOkB,EAAEd,UAAWH,EAAOK,UAAUO,WACjCM,SAAUL,EACVE,SAAUA,IA1ClB,IAgDIb,gBAAiBA","file":"../../../scripts/mvc/history/hda-li.js","sourcesContent":["define([\"mvc/dataset/dataset-li\", \"mvc/base-mvc\", \"utils/localization\"], function(DATASET_LI, BASE_MVC, _l) {\n    \"use strict\";\n\n    //==============================================================================\n    var _super = DATASET_LI.DatasetListItemView;\n    /** @class Read only view for HistoryDatasetAssociation.\n *      Since there are no controls on the HDAView to hide the dataset,\n *      the primary thing this class does (currently) is override templates\n *      to render the HID.\n */\n    var HDAListItemView = _super.extend(\n        /** @lends HDAListItemView.prototype */ {\n            className: _super.prototype.className + \" history-content\",\n\n            initialize: function(attributes, options) {\n                _super.prototype.initialize.call(this, attributes, options);\n            },\n\n            // ......................................................................... misc\n            /** String representation */\n            toString: function() {\n                var modelString = this.model ? this.model + \"\" : \"(no model)\";\n                return \"HDAListItemView(\" + modelString + \")\";\n            }\n        }\n    );\n\n    // ............................................................................ TEMPLATES\n    /** underscore templates */\n    HDAListItemView.prototype.templates = (function() {\n        var titleBarTemplate = BASE_MVC.wrapTemplate(\n            [\n                // adding the hid display to the title\n                '<div class=\"title-bar clear\" tabindex=\"0\">',\n                '<span class=\"state-icon\"></span>',\n                '<div class=\"title\">',\n                //TODO: remove whitespace and use margin-right\n                '<span class=\"hid\"><%- dataset.hid %></span> ',\n                '<span class=\"name\"><%- dataset.name %></span>',\n                \"</div>\",\n                \"</br>\",\n                '<span class=\"nametags\">',\n                \"<% _.each(_.sortBy(_.uniq(dataset.tags), function(x) { return x }), function(tag){ %>\",\n                '<% if (tag.indexOf(\"name:\") == 0){ %>',\n                '<span class=\"label label-info\"><%- tag.slice(5) %></span>',\n                \"<% } %>\",\n                \"<% }); %>\",\n                \"</span>\",\n                \"</div>\"\n            ],\n            \"dataset\"\n        );\n\n        var warnings = _.extend({}, _super.prototype.templates.warnings, {\n            hidden: BASE_MVC.wrapTemplate(\n                [\n                    // add a warning when hidden\n                    \"<% if( !dataset.visible ){ %>\",\n                    '<div class=\"hidden-msg warningmessagesmall\">',\n                    _l(\"This dataset has been hidden\"),\n                    \"</div>\",\n                    \"<% } %>\"\n                ],\n                \"dataset\"\n            )\n        });\n\n        return _.extend({}, _super.prototype.templates, {\n            titleBar: titleBarTemplate,\n            warnings: warnings\n        });\n    })();\n\n    //==============================================================================\n    return {\n        HDAListItemView: HDAListItemView\n    };\n});\n"]}
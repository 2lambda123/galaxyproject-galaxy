{"version":3,"file":"multi-panel.js","sources":["../../../src/mvc/history/multi-panel.js"],"names":["define","HISTORY_MODEL","HPANEL_EDIT","baseMVC","ajaxQueue","historyCopyDialog","history","options","validateName","name","Galaxy","modal","$","size","$invalidTitle","attr","css","color","margin-top","addClass","text","_l","append","copyHistory","$copyIndicator","copy","fail","alert","always","hide","checkNameAndCopy","val","historyName","get","defaultCopyName","show","_","extend","title","body","join","buttons","Cancel","Copy","focus","select","on","ev","keyCode","HistoryPanelColumn","Backbone","View","LoggableMixin","tagName","className","id","this","model","initialize","purgeAllowed","isUndefined","panel","createPanel","setUpListeners","panelOptions","dragItems","HistoryPanelEdit","_renderEmptyMessage","__patch_renderEmptyMessage","$whereTo","newMsg","empty","$emptyMsg","$emptyMessage","isEmpty","hdaViews","emptyMsg","contents","length","searchFor","mixed","find","c","haveDetails","noneFoundMsg","column","once","trigger","setUpPanelListeners","listenTo","rendered","inView","viewLeft","viewRight","columnLeft","$el","offset","left","columnRight","width","$panel","render","speed","undefined","modelData","toJSON","html","template","renderPanel","setUpBehaviors","data","isCurrentHistory","currentHistory","controlsLeftTemplate","view","controlsRightTemplate","setElement","$list","before","_renderDropTargetHelp","events","click .switch-to.btn","setAsCurrent","click .delete-history","_delete","xhr","status","error","done","click .undelete-history","undelete","click .purge-history","confirm","purge","click .copy-history","variable","toString","MultiPanelColumns","log","columnWidth","borderWidth","columnGap","headerHeight","footerHeight","controlsHeight","perPage","hdaQueue","NamedAjaxQueue","collection","columnMap","columnOptions","historySearch","datasetSearch","setCollection","histories","multipanel","fetch","limit","stopListening","HistoryCollection","setUpCollectionListeners","sort","silent","createColumns","clear","addModels","models","isArray","forEach","addColumn","_ajaxErrorHandler","add","all-fetched","_postFetchAll","new-current","addAsCurrentColumn","set-as-current","setCurrentHistory","change:deleted change:purged","handleDeletedHistory","renderColumns","remove","$scrollContainer","scrollLeft","oldCurrentColumn","findWhere","height","newCurrentColumn","currentHistoryId","_recalcFirstColumnHeight","includeDeleted","removeColumn","errArgs","toArray","arguments","window","handleErrors","apply","create","current","each","createColumn","config","allow_user_dataset_purge","setUpColumnListeners","searchItems","queueHdaFetchDetails","newColumn","queueHdaFetch","widthToRemove","fadeOut","checkColumnsInView","in-view","view:draggable:dragstart","_dropData","JSON","parse","dataTransfer","getData","currentColumnDropTargetOn","view:draggable:dragend","currentColumnDropTargetOff","droptarget:drop","toCopy","filter","json","isCopyable","queue","content","fn","start","columnMapLength","Object","keys","sortedFilteredColumns","filters","sortedColumns","filtered","every","map","call","sorted","fxSpeed","mainTemplate","sortedAndFiltered","$middle","_calcMiddleWidth","appendTo","delegateEvents","renderColumn","allFetched","loadingIndicatorTemplate","numColumns","preventStackWidthAdj","xhrData","ids","values","storage","dataset_details","renderItems","running","details","renderInfo","msg","click .done.btn","click .create-new.btn","click #include-deleted","click .order .set-order","click #toggle-deleted","click #toggle-hidden","close","destination","root","galaxy_config","location","_clickToggleDeletedHistories","toggleDeletedHistories","currentTarget","is","toggleOptionsPopover","_clickToggleDeletedDatasets","toggleDeletedDatasets","i","delay","toggleShowDeleted","_clickToggleHiddenDatasets","toggleHiddenDatasets","toggleShowHidden","_chooseOrder","orderKey","orderDescriptions","setOrder","reset","slice","_scrollLeft","_moreOptionsPopover","searchInput","placeholder","onfirstsearch","onsearch","matchesAll","onclear","progress","curr","total","deferred","clearSearch","resize","debouncedInView","debounce","viewport","_viewport","checkForEndOfScroll","parent","scroll","popover","container","placement","optionsPopoverTemplate","$firstColumn","first","middleHeight","controlHeight","$outerMiddle","right","columnsInView","vp","END_PADDING","scrollRight","currentColumn","dataDropped","dropTargetOn","prototype","dataDrop","dropTarget","columns","update_time","update_time-asc","name-dsc","size-asc"],"mappings":"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"}
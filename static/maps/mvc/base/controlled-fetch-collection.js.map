{"version":3,"file":"controlled-fetch-collection.js","sources":["../../../src/mvc/base/controlled-fetch-collection.js"],"names":["define","_","Backbone","BASE_MVC","ControlledFetchCollection","Collection","extend","initialize","models","options","prototype","call","this","setOrder","order","silent","_setUpListeners","on","changed-order","sort","fetch","_buildFetchOptions","clone","self","remove","traditional","data","_buildFetchData","filters","_buildFetchFilters","isEmpty","_fetchFiltersToAjaxData","defaults","pick","_fetchParams","filterMap","q","qv","each","v","k","undefined","push","reset","allFetched","comparators","update_time","buildComparator","ascending","update_time-asc","create_time","create_time-asc","collection","comparator","isUndefined","Error","trigger","PaginatedCollection","limitOnFirstFetch","limitPerFetch","lastFetched","fetchFirst","fetchMore","limit","jQuery","when","offset","always","done","fetchedData","numFetched","isArray","length","fetchAll"],"mappings":"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"}
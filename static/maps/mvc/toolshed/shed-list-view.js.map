{"version":3,"sources":["mvc/toolshed/shed-list-view.js"],"names":["define","toolshed_model","toolshed_util","ShedListView","Backbone","View","extend","defaults","tool_sheds","url","initialize","options","this","_","model","ShedsCollection","listenTo","render","fetch","el","toolshed_list_template","templateToolshedList","$el","html","title","queue","queueLength","reDraw","empty","template","join"],"mappings":"aAAAA,QAAQ,8BAA+B,qBAAsB,SAASC,EAAgBC,GAgElF,OACIC,aAhEOC,SAASC,KAAKC,QADrBC,UACAF,aAEIG,IACI,kCACIC,KAAK,2BAMjBC,WAAY,SAAAC,GAERC,KAAKD,QAAUE,EAAEN,SAASK,KAAKD,YAAeC,KAAKL,UACnDK,KAAKE,MAAQ,IAAIb,EAAec,gBAChCH,KAAKI,SAASJ,KAAKE,MAAO,OAAQF,KAAKK,QACvCL,KAAKE,MAAMI,SAGfC,GAAI,UAEJF,OAAQ,SAAAN,GACJC,KAAKD,QAAUE,EAAEN,SAASK,KAAKD,YAAeA,EAASC,KAAKL,UAC5D,IAAIa,EAAyBR,KAAKS,qBAClCT,KAAKU,IAAIC,KAEDC,GACAhB,MAAAA,+BACAiB,WAAOvB,KAAcwB,MAAAA,OAJ7BD,MAAAvB,EAAAwB,kBAWAC,OAAA,SAAYhB,GAlCYC,KAAAU,IAAAM,QAkCxBhB,KAAKK,OAAON,IAGhBU,qBAAsBR,EAAEgB,UA2BxB1B,yEADJ,6DAhEJ,wJA2CgB,SACA,uDACA,yBACA,uBACA,4CACA,4BACA,OACA,wEACA,8GACA,SACA,QACA,QACA,YACA,WACA,SACA,kCACA,UACF2B,KAAK","file":"../../../scripts/mvc/toolshed/shed-list-view.js","sourcesContent":["define([\"mvc/toolshed/toolshed-model\", \"mvc/toolshed/util\"], function(toolshed_model, toolshed_util) {\n    var View = Backbone.View.extend({\n        defaults: {\n            tool_sheds: [\n                {\n                    url: \"https://toolshed.g2.bx.psu.edu/\",\n                    name: \"Galaxy Main Tool Shed\"\n                }\n            ]\n        },\n\n        initialize: function(options) {\n            var self = this;\n            this.options = _.defaults(this.options || {}, this.defaults);\n            this.model = new toolshed_model.ShedsCollection();\n            this.listenTo(this.model, \"sync\", this.render);\n            this.model.fetch();\n        },\n\n        el: \"#center\",\n\n        render: function(options) {\n            this.options = _.defaults(this.options || {}, options, this.defaults);\n            var toolshed_list_template = this.templateToolshedList;\n            this.$el.html(\n                toolshed_list_template({\n                    title: \"Configured Galaxy Tool Sheds\",\n                    tool_sheds: this.model.models,\n                    queue: toolshed_util.queueLength()\n                })\n            );\n        },\n\n        reDraw: function(options) {\n            this.$el.empty();\n            this.render(options);\n        },\n\n        templateToolshedList: _.template(\n            [\n                '<div class=\"unified-panel-header\" id=\"panel_header\" unselectable=\"on\">',\n                '<div class=\"unified-panel-header-inner\"><%= title %></div>',\n                '<div class=\"unified-panel-header-inner\" style=\"position: absolute; right: 5px; top: 0px;\"><a href=\"#/queue\">Repository Queue (<%= queue %>)</a></div>',\n                \"</div>\",\n                '<div class=\"unified-panel-body\" id=\"list_toolsheds\">',\n                '<div class=\"form-row\">',\n                '<table class=\"grid\">',\n                \"<% _.each(tool_sheds, function(shed) { %>\",\n                '<tr class=\"libraryTitle\">',\n                \"<td>\",\n                '<div style=\"float: left; margin-left: 1px;\" class=\"menubutton split\">',\n                '<a class=\"view-info shed-selector\" href=\"#/categories/s/<%= shed.get(\"url\") %>\"><%= shed.get(\"name\") %></a>',\n                \"</div>\",\n                \"</td>\",\n                \"</tr>\",\n                \"<% }); %>\",\n                \"</table>\",\n                \"</div>\",\n                '<div style=\"clear: both\"></div>',\n                \"</div>\"\n            ].join(\"\")\n        )\n    });\n\n    return {\n        ShedListView: View\n    };\n});\n"]}
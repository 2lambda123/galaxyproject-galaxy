{"version":3,"file":"collection-view.js","sources":["../../../../src/mvc/upload/collection/collection-view.js"],"names":["define","Utils","UploadModel","UploadRow","UploadFtp","UploadExtension","Popover","Select","Ui","Backbone","View","extend","upload_size","collection","Collection","counter","announce","success","error","running","reset","this","initialize","app","self","options","list_extensions","list_genomes","ui_button","ftp_upload_site","currentFtp","setElement","_template","btnLocal","Button","id","title","onclick","uploadbox","select","icon","btnFtp","_eventFtp","btnCreate","_eventCreate","btnStart","_eventStart","btnBuild","_eventBuild","btnStop","_eventStop","btnReset","_eventReset","btnClose","modal","hide","_","each","button","$","prepend","$el","url","nginx_upload_path","index","file","_eventAnnounce","toData","get","history_id","progress","percentage","_eventProgress","message","_eventSuccess","_eventError","complete","_eventComplete","ondragover","addClass","ondragleave","removeClass","ftp","container","select_extension","css","data","filter","ext","composite_files","value","default_extension","onchange","extension","updateExtension","collectionType","select_collection","text","updateCollectionType","on","e","target","list","placement","preventDefault","select_genome","default_genome","genome","updateGenome","model","_eventRemove","_updateScreen","new_model","Model","file_name","name","file_size","size","file_mode","mode","file_path","path","file_data","add","upload_row","append","render","it","set","_uploadPercentage","hids","pluck","status","upload_completed","Galaxy","currHistoryPanel","refreshContents","info","allHids","forEach","models","upload","push","apply","map","hid","getByHid","selection","constructor","historyId","buildCollection","remove","visible","empty","onadd","ftp_file","onremove","model_index","show","currentHistory","start","html","stop","defaults_only","compatible","enable_reset","enable_start","enable_build","enable_sources","show_table"],"mappings":"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"}
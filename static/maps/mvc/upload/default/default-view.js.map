{"version":3,"file":"default-view.js","sources":["../../../../src/mvc/upload/default/default-view.js"],"names":["define","Utils","UploadModel","UploadRow","UploadFtp","UploadExtension","Popover","Select","Ui","LazyLimited","Backbone","View","extend","upload_size","collection","Collection","counter","announce","success","error","running","reset","this","initialize","app","self","options","list_extensions","list_genomes","ui_button","ftp_upload_site","currentFtp","setElement","_template","$uploadbox","$","$uploadtable","btnLocal","Button","id","title","onclick","uploadbox","select","icon","btnFtp","_eventFtp","btnCreate","_eventCreate","btnStart","_eventStart","btnStop","_eventStop","btnReset","_eventReset","btnClose","modal","hide","_","each","button","prepend","$el","url","nginx_upload_path","index","file","_eventAnnounce","toData","get","history_id","progress","percentage","_eventProgress","message","_eventSuccess","_eventError","complete","_eventComplete","ondragover","addClass","ondragleave","removeClass","ftp","container","select_extension","css","data","filter","ext","composite_files","value","default_extension","onchange","extension","_changeExtension","on","e","target","text","list","placement","preventDefault","select_genome","default_genome","genome","_changeGenome","loader","$container","new_content","model","upload_row","find","append","render","_eventRemove","compatible","html","enable_reset","enable_start","enable_sources","show_table","new_model","Model","file_name","name","file_size","size","file_mode","mode","file_path","path","file_data","add","it","set","_uploadPercentage","status","upload_completed","Galaxy","currHistoryPanel","refreshContents","info","remove","visible","empty","onadd","ftp_file","onremove","model_index","show","currentHistory","_uploadFtp","start","stop","defaults_only","push","length","uploadpost"],"mappings":"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"}
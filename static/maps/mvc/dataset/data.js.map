{"version":3,"file":"data.js","sources":["../../../src/mvc/dataset/data.js"],"names":["define","Modal","Frames","mod_icon_btn","DatasetMetadata","Backbone","Model","extend","Dataset","defaults","id","type","name","hda_ldda","metadata","initialize","this","get","_set_metadata","on","_","each","keys","attributes","k","indexOf","new_key","split","set","silent","get_metadata","attribute","urlRoot","Galaxy","root","TabularDataset","prototype","chunk_url","first_data_chunk","offset","at_eof","call","url_viz","get_next_chunk","self","next_chunk","$","Deferred","getJSON","success","chunk","rval","ck_data","resolve","DatasetCollection","Collection","model","TabularDatasetChunkedView","View","options","row_count","loading_chunk","TabularButtonTracksterView","$el","expand_to_container","height","scroll_elt","attempt_to_fetch","scrolled_to_bottom","loading_indicator","show","when","then","result","_renderChunk","hide","render","attr","append","data_table","cellpadding","column_names","header_container","appendTo","header_row","join","j","first_chunk","scroll","_renderCell","cell_contents","index","colspan","$cell","text","column_types","undefined","addClass","length","_renderRow","line","cells","row","num_columns","slice","range","find","lines","numlines","i","TopLevelTabularDatasetChunkedView","parents","p","css","window","scrollTop","EmbeddedTabularDatasetChunkedView","position","overflow","innerHeight","el","scrollHeight","col","chrom","start","end","dataset_id","genome_build","file_ext","search","str","array","match","parent","modal","frame","console","log","btn_viz","IconButtonView","IconButton","title","icon_class","setElement","events","mouseover tr","mouseleave","e","is_numeric","n","isNaN","parseFloat","isFinite","target","children","eq","html","btn_viz_pars","gene_region","left","top","off","click","create_trackster_action","vis_url","dataset_params","dbkey","listTracksParams","ajax","url","param","dataType","error","body","buttons","Cancel","table_html","View in saved visualization","Add to visualization","vis_id","val","add","content","View in new visualization","createTabularDatasetChunkedView","dataset_config","parent_elt","embedded","view"],"mappings":"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"}
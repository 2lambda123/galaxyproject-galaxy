<tool id="multi_data_mandatory" name="multi_data_mandatory" version="0.1.0">
  <command>
touch '$out1';
#if $input1
    #for $input in $input1
        #if $input
            cat '$input' >> '$out1';
        #end if
    #end for
#else
    echo "No input selected" >> '$out1'
#end if
  </command>
  <inputs>
    <param name="input1" type="data" format="txt" multiple="true" label="Data 1"/>
  </inputs>
  <outputs>
    <data format="txt" name="out1" />
  </outputs>
  <tests>
    <!-- ensure that `a multiple="true" data parameter requires at least one data input.` -->
    <test expect_failure="false">
      <output name="out1">
        <assert_contents>
          <has_line line="No input selected" />
        </assert_contents>
      </output>
    </test>
  </tests>
</tool>

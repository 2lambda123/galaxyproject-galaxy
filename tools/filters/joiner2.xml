<tool id="joiner2" name="Relational join 2" version="1.0.0">
  <description>two datasets a specific column of which has the same value</description>
  <command detect_errors="exit_code">
      sort -k $col1 $input1 > $input1.tmp;
      sort -k $col2 $input2 > $input2.tmp;
      join -1 $col1 -2 $col2 $input1.tmp $input2.tmp | tr " " "\t" > $out_file1;
      rm -rf $input1.tmp $input2.tmp
  </command>
  <inputs>
    <param name="input1" label="Combine dataset" format="tabular" type="data" />
    <param name="col1" label="using column" type="data_column" data_ref="input1" />
    <param name="input2" label="with dataset"	format="tabular" type="data"/>
    <param name="col2" label="and column" type="data_column" data_ref="input2" />
  </inputs>
  <outputs>
    <data format="tabular" name="out_file1" metadata_source="input1" />
  </outputs>
  <help>
**Example**

First tabular dataset::

    chr1	1	100	-1
    chr1	2	200	-1

Second tabular dataset::

    chr1	300	140	1
    chr2	300	140	1

If these two datasets were joined on column 1, it would result in the following:

    chr1	1	100	-1	300	140	1
    chr1	2	200	-1	300	140	1
  </help>
  <citations />
</tool>
